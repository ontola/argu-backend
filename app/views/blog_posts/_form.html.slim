=set_title blog_post.new_record? ? t('new_type', type: t('blog_posts.type')) : t('edit_type', type: t('blog_posts.type'))
.col-3
  .col-3-2
    =to_parent
    .box
      =semantic_form_for(blog_post, url: blog_post.new_record? ? collection_iri(parent_resource, :blog_posts).to_s : blog_post, html: {autocomplete: 'off'}, remote: true, authenticity_token: true) do |f|
        - if blog_post.parent.is_a?(Page) || blog_post.parent.is_a?(ContainerNode)
          =f.input :default_cover_photo, as: :react_cover, label: false
        section.smallpadded.form-filled
          =f.inputs
            =f.input :display_name, as: :text, input_html: {size: '2', maxlength: '110', class: 'blog-post-t form-input-title', autofocus: :autofocus}, label: false, hint: false, placeholder: placeholder_for(blog_post, :title, motion_type.downcase)
            =f.input :description, as: :text, input_html: {class: 'form-input-content', rows: '8'}, label: false, hint: false, placeholder: placeholder_for(blog_post, :content, motion_type.downcase)
            - if policy(resource).permitted_attributes.include?(:mark_as_important)
              =f.input :mark_as_important, as: :reverse_boolean
              li.form-helper
                span= t('publications.follow_type.helper', news_audience: resource.parent.potential_audience(:news), reactions_audience: resource.parent.potential_audience(:reactions))
            =f.semantic_fields_for :attachments do |attachment|
              =render 'attachment_fields', f: attachment
            .links
              =link_to_add_association f, :attachments, class: 'btn-subtle' do
                span.fa.fa-plus
                span.icon-left= t('attachments.add')
        section.section--footer.footer-flex
          .footer-flex-element.footer-creator
            =render partial: 'profiles/creator', locals: {resource: blog_post}
          .footer-flex-element.footer-publication
            =render partial: 'publications/form', locals: {f: f, resource: blog_post}
          .footer-action
            =f.action :submit, as: :button
  /TODO make translations, make content dependent on focus field
  .col-3-1
    =render partial: 'markdown_helper'
