.col-1
  header
    h1= t('intro.initial.headers.shortname')
  .box
    section
      p= t('intro.initial.body.profile')
  .box
    section.form-validate
      =semantic_form_for authenticated_resource, url: setup_users_path, method: :put do |f|
        =f.inputs do
          =f.inputs :shortname, for: :shortname do |s|
            - if authenticated_resource.email
              =s.input :shortname,
                       input_html: {autofocus: true,
                                    title: t('formtastic.hints.user.shortname'),
                                    pattern: '[a-zA-Z]+[_a-zA-Z0-9]*',
                                    value: suggested_shortname(authenticated_resource)}
              li.form-helper
                span=t('users.shortname_helper_html')
            - else
              =s.input :shortname, input_html: {title: t('formtastic.hints.user.shortname'), pattern: '[a-zA-Z]+[_a-zA-Z0-9]*'}
              li.form-helper
                span=t('users.shortname_helper_html')
          =f.input :first_name, input_html: {autofocus: true}
          =f.inputs :last_name
          =f.semantic_fields_for :profile do |pf|
            =render partial: 'photos/form',
                    locals: {form: pf,
                            type: :profile_photo,
                            relation: :default_profile_photo,
                            preview_style: 'max-height: 96px; margin-bottom: 0.5em;'}
        =f.actions do
          .sticky-submit
            =link_to t('intro.skip').capitalize, setup_path, class: 'close-trigger margin-right'
            =f.action :submit, as: :button, label: t('next'), wrapper_html: {class: 'inline-button-form'}
